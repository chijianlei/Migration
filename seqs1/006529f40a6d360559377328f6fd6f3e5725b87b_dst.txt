private EditText mUserName  
private EditText mPasswordView  
super . onCreate ( savedInstanceState )  
setContentView ( R . layout . activity_login )  
mUserName = ( EditText ) findViewById ( R . id . username )  
mPasswordView = ( EditText ) findViewById ( R . id . password )  
Button mButton = ( Button ) findViewById ( R . id . user_sign_in_button )  
@ Override protected void onCreate ( Bundle savedInstanceState )  
RetroDriver retroDriver = RetroDriver . getInstance ( )  
retroDriver . setPassword ( mUserName . getText ( ) . toString ( ) , mPasswordView . getText ( ) . toString ( ) )  
OkHttpClient okHttpClientLogin = retroDriver . getOkHttpClientLogin ( )  
Retrofit retrofit = retroDriver . getRetrofit ( okHttpClientLogin )  
ApiService service = retrofit . create ( ApiService . class )  
Call < List < Book >> call = service . getAllBooks ( )  
mButton . setOnClickListener ( new View . OnClickListener ( ) { public void onClick ( View view ) { RetroDriver retroDriver = RetroDriver . getInstance ( ) ; retroDriver . setPassword ( mUserName . getText ( ) . toString ( ) , mPasswordView . getText ( ) . toString ( ) ) ; OkHttpClient okHttpClientLogin = retroDriver . getOkHttpClientLogin ( ) ; Retrofit retrofit = retroDriver . getRetrofit ( okHttpClientLogin ) ; ApiService service = retrofit . create ( ApiService . class ) ; Call < List < Book >> call = service . getAllBooks ( ) ; try { List < Book > bookData = call . execute ( ) . body ( ) ; if ( bookData != null ) { ArrayList < Book > arrayListBookData = new ArrayList < > ( ) ; for ( Book books : bookData ) { arrayListBookData . add ( books ) ; } Intent listInent = new Intent ( getApplicationContext ( ) , MainActivity . class ) ; listInent . putExtra ( "bookData" , arrayListBookData ) ; startActivity ( listInent ) ; } else { Toast . makeText ( getApplicationContext ( ) , "Authentication Error" , Toast . LENGTH_LONG ) . show ( ) ; } } catch ( IOException e ) { e . printStackTrace ( ) ; } } } )  
public void onClick ( View view )  
List < Book > bookData = call . execute ( ) . body ( )  
ArrayList < Book > arrayListBookData = new ArrayList < > ( )  
for ( Book books : bookData )  
arrayListBookData . add ( books )  
Toast . makeText ( getApplicationContext ( ) , "Authentication Error" , Toast . LENGTH_LONG ) . show ( )  
Intent listInent = new Intent ( getApplicationContext ( ) , MainActivity . class )  
listInent . putExtra ( "bookData" , arrayListBookData )  
startActivity ( listInent )  
catch ( IOException e )  
e . printStackTrace ( )  
