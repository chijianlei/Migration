public HeaderLikeWhatsApp ( Context context , AttributeSet attrs )  
super ( context , attrs )  
result = TypedValue . complexToDimensionPixelSize ( tv . data , context . getResources ( ) . getDisplayMetrics ( ) )  
@ Override public boolean layoutDependsOn ( CoordinatorLayout parent , HeaderView child , View dependency )  
@ Override public boolean onDependentViewChanged ( CoordinatorLayout parent , HeaderView child , View dependency )  
shouldInitProperties ( )  
int maxScroll = ( ( AppBarLayout ) dependency ) . getTotalScrollRange ( )  
float childPosition = dependency . getHeight ( ) + dependency . getY ( ) - child . getHeight ( ) - ( getToolbarHeight ( mContext ) - child . getHeight ( ) ) * percentage / 2  
float layoutPercentage = ( Math . abs ( dependency . getY ( ) ) - ( maxScroll / 2 ) ) / Math . abs ( maxScroll / 2 )  
if ( mStartMarginLeft == 0 )  
if ( mEndMarginLeft == 0 )  
if ( mStartMarginBottom == 0 )  
if ( mMarginRight == 0 )  
if ( mTitleStartSize == 0 )  
