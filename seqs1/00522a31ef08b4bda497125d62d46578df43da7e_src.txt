private boolean dateCancel = false  
alertDialogBuilder . setCancelable ( false ) . setPositiveButton ( "OK" , new DialogInterface . OnClickListener ( ) { public void onClick ( DialogInterface dialog , int id ) { if ( dateCancel ) { } else if ( dateList . size ( ) > timeList . size ( ) ) { dateList . remove ( dateList . size ( ) - 1 ) ; } else { descriptionList . add ( userInput . getText ( ) . toString ( ) ) ; int index = descriptionList . indexOf ( userInput . getText ( ) . toString ( ) ) ; if ( index == 0 ) { events . setText ( dateList . get ( index ) + " " + timeList . get ( index ) + ": " + descriptionList . get ( index ) ) ; } else { events . append ( "\n" + dateList . get ( index ) ) ; events . append ( " " + timeList . get ( index ) + ": " ) ; events . append ( descriptionList . get ( index ) ) ; } String localEvent = dateList . get ( index ) + " " + timeList . get ( index ) + ": " + descriptionList . get ( index ) ; CreateTaskAsyncTask ctat = new CreateTaskAsyncTask ( getActivity ( ) , groupName ) ; ctat . execute ( localEvent ) ; } } } ) . setNegativeButton ( "Cancel" , new DialogInterface . OnClickListener ( ) { public void onClick ( DialogInterface dialog , int id ) { if ( dateCancel ) { } else if ( dateList . size ( ) > timeList . size ( ) ) { dateList . remove ( dateList . size ( ) - 1 ) ; } else if ( dateList . size ( ) == timeList . size ( ) ) { if ( dateList . size ( ) != 0 ) { dateList . remove ( dateList . size ( ) - 1 ) ; timeList . remove ( timeList . size ( ) - 1 ) ; } } dialog . cancel ( ) ; } } )  
public void onClick ( DialogInterface dialog , int id )  
descriptionList . add ( userInput . getText ( ) . toString ( ) )  
int index = descriptionList . indexOf ( userInput . getText ( ) . toString ( ) )  
if ( index == 0 )  
events . setText ( dateList . get ( index ) + " " + timeList . get ( index ) + ": " + descriptionList . get ( index ) )  
events . append ( "\n" + dateList . get ( index ) )  
events . append ( " " + timeList . get ( index ) + ": " )  
events . append ( descriptionList . get ( index ) )  
String localEvent = dateList . get ( index ) + " " + timeList . get ( index ) + ": " + descriptionList . get ( index )  
CreateTaskAsyncTask ctat = new CreateTaskAsyncTask ( getActivity ( ) , groupName )  
ctat . execute ( localEvent )  
if ( dateList . size ( ) > timeList . size ( ) )  
dateList . remove ( dateList . size ( ) - 1 )  
if ( dateList . size ( ) == timeList . size ( ) )  
if ( dateList . size ( ) != 0 )  
dateList . remove ( dateList . size ( ) - 1 )  
timeList . remove ( timeList . size ( ) - 1 )  
dialog . cancel ( )  
alertDialog . show ( ) ; 
dialog . show ( ) ; 
@ Override public void onTimeSet ( TimePicker view , int hourOfDay , int minute )  
int mHour = hourOfDay  
int mMinute = minute  
boolean AM = false  
dateCancel = true  
if ( mHour < 12 )  
AM = true  
if ( mHour == 12 )  
mHour -= 12  
eventTime . setText ( new StringBuilder ( ) . append ( mHour ) . append ( ":" ) . append ( mMinute ) . append ( "am" ) )  
eventTime . setText ( new StringBuilder ( ) . append ( mHour ) . append ( ":" ) . append ( mMinute ) . append ( "pm" ) )  
timeList . add ( eventTime . getText ( ) . toString ( ) )  
