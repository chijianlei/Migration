socket = new Socket ( ( String ) null , Settings . getPort ( ) )  
out = new PrintWriter ( socket . getOutputStream ( ) )  
out . flush ( )  
in = new Scanner ( socket . getInputStream ( ) )  
out . println ( s )  
out . flush ( )  
setPriority ( Thread . MIN_PRIORITY )  
while ( ! SyncropGUI . isShuttingDown ( ) ) 
if ( socket == null ) 
connect ( )  
else if ( socket . isBound ( ) )  
out . println ( STATUS )  
setStatus ( true , in . nextLine ( ) )  
catch ( ConnectException e ) {  
catch ( IOException e )  
Syncrop . logger . logError ( e )  
try { Thread . sleep ( 10000 ) ; } catch ( InterruptedException e ) {  
private void setStatus ( boolean running , String status )  
this . status = status  
syncropCommunicationThread . start ( )  
startSyncropClient . addActionListener ( this )  
stopSyncropClient . addActionListener ( this )  
double maxSize = Settings . getMaxAccountSize ( )  
String percentUsed = String . format ( "%.2f" , size / maxSize * 100 )  
size > GIGABYTE ? 
spaceLeftInAccount . setText ( "<html>" + percentUsed + "% used;<br/>" + spaceUsed + " of " + maxSize / GIGABYTE + " GiB</html>" )  
fileSyncStatusPanel . revalidate ( )  
@ Override public void actionPerformed ( ActionEvent e )  
if ( e . getSource ( ) . equals ( startSyncropClient ) )  
Runtime . getRuntime ( ) . exec ( "syncrop-daemon start" )  
logger . log ( "Tried to start Syncrop" )  
Runtime . getRuntime ( ) . exec ( "syncrop-daemon stop" )  
} catch ( IOException e1 )  
logger . logError ( e1 )  
public static SyncropCommunicationThread getSyncropCommunicationThread ( )  
( new FileWatcher ( null ) ) . checkAllFiles ( new RemoveSyncropConflictsAction ( ) )  
