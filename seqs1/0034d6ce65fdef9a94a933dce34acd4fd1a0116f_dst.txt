catch ( Exception e )  
request . setAttribute ( "FormSubmitMessage" , "You failed to submit the form!" )  
Class . forName ( "com.mysql.jdbc.Driver" )  
String connectionStr = "jdbc:mysql://localhost/DisasterAssessment"  
con = DriverManager . getConnection ( connectionStr , dbuser , dbpw )  
Client client = new Client ( address , apt , city , state , zip , "" , "" , lastName , firstName )  
client . Insert ( con )  
int clientId = client . getId ( con )  
System . out . println ( "clientId:" + clientId )  
Building building = new Building ( landlordName , landlordPhone , dwellingType , insuranceInfo_f , insuranceInfo_s , insuranceInfo_c , ownerInfo )  
building . Insert ( con )  
int buildId = building . getId ( con )  
System . out . println ( "BuildingId:" + buildId )  
DamageAssessment ds = new DamageAssessment ( classification , "" , "" , num_of_floor , isBasement , waterLivingInt , waterBasementInt , isGasOn , isElectricOn , isBasementOccupied , basementComment , reason , Electrical_service_box , Furnace , Heat_Water_Heater , Washer , Dryer , Stove , Regfrigerator , sqlDate , sqlDate )  
ds . insert ( con )  
int damageAssessmentId = ds . getId ( con )  
Cases caseInstance = new Cases ( comments , clientId , damageAssessmentId , buildId , - 1 )  
caseInstance . Insert ( con )  
request . setAttribute ( "FormSubmitMessage" , "Your Assessment Form has been submitted successfully!" )  
catch ( Exception e )  
request . setAttribute ( "FormSubmitMessage" , "You failed to submit the form!" )  
String destination = "/welcome.jsp"  
RequestDispatcher red = getServletContext ( ) . getRequestDispatcher ( destination )  
red . forward ( request , response )  
if ( con != null )  
con . close ( )  
catch ( SQLException ex )  
Logger . getLogger ( FillInForm . class . getName ( ) ) . log ( Level . SEVERE , null , ex )  
