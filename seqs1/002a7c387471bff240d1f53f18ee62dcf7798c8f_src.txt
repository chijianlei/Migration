this . setOnMouseDragged ( event -> { if ( line == null ) { line = new Line ( this . getX ( ) + ( this . getWidth ( ) / 2 ) , this . getY ( ) + ( this . getHeight ( ) / 2 ) , event . getX ( ) , event . getY ( ) ) ; ( ( Group ) this . getParent ( ) ) . getChildren ( ) . add ( line ) ; } else { line . setEndX ( event . getX ( ) ) ; line . setEndY ( event . getY ( ) ) ; } RoomRectangle newTarget = ( RoomRectangle ) ( ( CustomGroup ) this . getParent ( ) ) . getRectangleByCoordinatesPreferFront ( event . getX ( ) , event . getY ( ) ) ; if ( newTarget != previousTarget && previousTarget != null ) { previousTarget . setSelected ( false ) ; } if ( newTarget != null && newTarget != thisRef ) { newTarget . setSelected ( true ) ; } previousTarget = newTarget ; } )  
