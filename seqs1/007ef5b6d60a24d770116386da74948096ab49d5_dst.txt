public static TadpoleUserDbRoleDAO insertTadpoleUserDBRole ( int userSeq , int dbSeq , String roleType , String accessIp , Timestamp terms_of_use_starttime , Timestamp terms_of_use_endtime ) throws Exception  
private TadpoleUserDbRoleDAO tadpoleUserRoleDao  
@ Override protected void okPressed ( )  
IStructuredSelection iss = ( IStructuredSelection ) tableViewer . getSelection ( )  
if ( iss . isEmpty ( ) ) return  
UserDAO userDAO = ( UserDAO ) iss . getFirstElement ( )  
if ( "NONE" . equals ( comboRoleType . getText ( ) ) )  
MessageDialog . openError ( getShell ( ) , "Error" , "Please select Role type." )  
comboRoleType . setFocus ( )  
boolean isAddDBRole = TadpoleSystem_UserRole . isDBAddRole ( userDBDao , userDAO )  
if ( ! MessageDialog . openConfirm ( getShell ( ) , "Confirm" , Messages . FindUserDialog_4 ) ) return  
Calendar calStart = Calendar . getInstance ( )  
calStart . set ( dateTimeStart . getYear ( ) , dateTimeStart . getMonth ( ) , dateTimeStart . getDay ( ) , 0 , 0 , 0 )  
Calendar calEnd = Calendar . getInstance ( )  
calEnd . set ( dateTimeEndDay . getYear ( ) , dateTimeEndDay . getMonth ( ) , dateTimeEndDay . getDay ( ) , dateTimeEndTime . getHours ( ) , dateTimeEndTime . getMinutes ( ) , 00 )  
tadpoleUserRoleDao = TadpoleSystem_UserRole . insertTadpoleUserDBRole ( userDAO . getSeq ( ) , userDBDao . getSeq ( ) , comboRoleType . getText ( ) , "*" , new Timestamp ( calStart . getTimeInMillis ( ) ) , new Timestamp ( calEnd . getTimeInMillis ( ) ) )  
MessageDialog . openInformation ( getShell ( ) , "Comfirm" , "Save user role." )  
MessageDialog . openError ( getShell ( ) , "Comfirm" , "Already exist user." )  
} catch ( Exception e )  
logger . error ( "Is DB add role error." , e )  
MessageDialog . openError ( getShell ( ) , "Error" , "Error saveing...\n" + e . getMessage ( ) )  
createButton ( parent , IDialogConstants . OK_ID , "Add" , false ) ; 
@ Override public Image getColumnImage ( Object element , int columnIndex )  
if ( othersDialog . open ( ) == Dialog . OK )  
if ( Dialog . OK == dialog . open ( ) )  
if ( dialog . open ( ) == Dialog . OK )  
tvDBList . refresh ( dialog . getDTO ( ) )  
tvDBList . refresh ( dialog . getDTO ( ) )  
userDB . getListChildren ( ) . remove ( userDBRole )  
userDB . setIs_visible ( btnVisible . getSelection ( ) ? PublicTadpoleDefine . YES_NO . YES . name ( ) : PublicTadpoleDefine . YES_NO . NO . name ( ) )  
userDB . setIs_lock ( btnDbLock . getSelection ( ) ? PublicTadpoleDefine . YES_NO . YES . name ( ) : PublicTadpoleDefine . YES_NO . NO . name ( ) )  
TadpoleSystem_UserDBQuery . updateDBOtherInformation ( userDB )  
} catch ( Exception e )  
super . okPressed ( )  
