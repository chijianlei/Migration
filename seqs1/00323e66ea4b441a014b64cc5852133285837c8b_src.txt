while ( ! withoutIncoming . isEmpty ( ) )  
for ( TaskPoint each : current . getImmediateSuccessors ( ) )  
initializeIfNeededForKey ( visitedBy , each , new HashSet < TaskPoint > ( ) )  
Set < TaskPoint > visitors = visitedBy . get ( each )  
visitors . add ( current )  
Set < TaskPoint > predecessorsRequired = each . getImmediatePredecessors ( )  
if ( visitors . containsAll ( predecessorsRequired ) )  
initializeIfNeededForKey ( result , each , result . get ( current ) + 1 )  
withoutIncoming . offer ( each )  
