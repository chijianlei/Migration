if ( email . length ( ) <= 5 || ( ! email . contains ( "@" ) || ! email . contains ( "." ) ) )  
email_input . setError ( "Email is required and must be a valid address!" )  
String new_email = email_view . getText ( ) . toString ( )  
int new_school = schoolList . indexOf ( school_view . getSelectedItem ( ) . toString ( ) ) + 1  
ContentValues cv = new ContentValues ( )  
cv . put ( "email" , new_email )  
cv . put ( "school_id" , new_school )  
if ( ! imagePath . equals ( "" ) ) 
cv . put ( "profile_pic" , imagePath )  
String curr_password = curr_password_view . getText ( ) . toString ( )  
if ( curr_password . equals ( user_password ) )  
String new_password = new_password_view . getText ( ) . toString ( )  
String new_password_conf = new_password_view_conf . getText ( ) . toString ( )  
if ( ! new_password . isEmpty ( ) && ! new_password_conf . isEmpty ( ) )  
if ( new_password . equals ( new_password_conf ) )  
cv . put ( "password" , new_password )  
mydb . getWritableDatabase ( ) . update ( "students" , cv , "id=" + USER_ID , null )  
cursor . close ( )  
mydb . close ( )  
Bundle bundle = new Bundle ( )  
bundle . putInt ( "USER_ID" , USER_ID )  
FragmentTransaction transaction = getFragmentManager ( ) . beginTransaction ( )  
StudentProfileFragment profile = new StudentProfileFragment ( )  
profile . setArguments ( bundle )  
transaction . replace ( R . id . student_fragment_container , profile )  
transaction . commit ( )  
String new_email = email_view . getText ( ) . toString ( )  
String new_rate = rate_view . getText ( ) . toString ( )  
int new_school = schoolList . indexOf ( school_view . getSelectedItem ( ) . toString ( ) ) + 1  
ContentValues cv = new ContentValues ( )  
cv . put ( "email" , new_email )  
cv . put ( "rate" , new_rate )  
cv . put ( "school_id" , new_school )  
if ( ! imagePath . equals ( "" ) ) 
cv . put ( "profile_pic" , imagePath )  
String curr_password = curr_password_view . getText ( ) . toString ( )  
if ( curr_password . equals ( user_password ) )  
String new_password = new_password_view . getText ( ) . toString ( )  
String new_password_conf = new_password_view_conf . getText ( ) . toString ( )  
if ( ! new_password . isEmpty ( ) && ! new_password_conf . isEmpty ( ) )  
if ( new_password . equals ( new_password_conf ) )  
cv . put ( "password" , new_password )  
mydb . getWritableDatabase ( ) . update ( "tutors" , cv , "id=" + USER_ID , null )  
cursor . close ( )  
mydb . close ( )  
Bundle bundle = new Bundle ( )  
bundle . putInt ( "USER_ID" , USER_ID )  
FragmentTransaction transaction = getFragmentManager ( ) . beginTransaction ( )  
TutorProfileFragment profile = new TutorProfileFragment ( )  
profile . setArguments ( bundle )  
transaction . replace ( R . id . tutor_fragment_container , profile )  
transaction . commit ( )  
